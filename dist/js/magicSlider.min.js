!function(){"use strict";let e=function(e,t,l,s){let n=({defaults:{min:0,max:10,values:null,interval:1,labelInterval:1,onlyEndLabels:!1,pointerValues:!0,pointerImage:null,rangeColor:"#3498db",startPoints:[0,10]},onChangeCallback:null,supportTouch:"ontouchstart"in window||navigator.msMaxTouchPoints,lkey:0,rkey:0,getMin:function(){return this.lkey},getMax:function(){return this.rkey},getRange:function(){return this.lkey+","+this.rkey},destroy:function(){document.getElementById(e).innerHTML=""},init:function(){for(var e in t)t.hasOwnProperty(e)&&(this.defaults[e]=t[e]);if(null!=this.defaults.values){if(!Array.isArray(this.defaults.values))return alert('Parameter "values" should be an array'),!1;if(this.defaults.values.length<2)return alert('Parameter "values" should be an array with minimum length 2'),!1;this.defaults.values=this.defaults.values.sort(),this.defaults.min=this.defaults.values[0],this.defaults.max=this.defaults.values[this.defaults.values.length-1]}return Array.isArray(this.defaults.startPoints)?2!=this.defaults.startPoints.length?(alert('Parameter "startPoints" must be an array with length 2'),!1):(this.lkey=this.defaults.startPoints[0],this.rkey=this.defaults.startPoints[1],this.lkey<this.defaults.min||this.rkey>this.defaults.max)?(alert("Out of range starting points"),!1):(this.createSlider(),this):(alert('Parameter "startPoints" should be an array'),!1)},getClosest:function(e,t){var l=t.reduce(function(t,l){return Math.abs(l-e)<Math.abs(t-e)?l:t});return[t.indexOf(l),l]},onReSize:function(){if(null!==document.getElementById(e).offsetParent)return this.createSlider(),this},onChange:function(e){return this.onChangeCallback=e,this},triggerChange:function(){if("function"==typeof this.onChangeCallback)return this.onChangeCallback({min:this.lkey,max:this.rkey})},setValues:function(e,t){return this.lkey=e,this.rkey=t,this.createSlider(),this},createSlider:function(){let t=parseFloat(this.defaults.max-this.defaults.min)/this.defaults.interval,s,n;if(!Number.isInteger(t))return alert('Parameter "interval" should be a perfect divider of the range'),!1;if(this.defaults.interval!=this.defaults.labelInterval&&!Number.isInteger(s=parseInt(this.defaults.max-this.defaults.min)/this.defaults.labelInterval))return alert('Parameter "labelInterval" should be a perfect divider of the range'),!1;let i=this,a,r,o,d,y,p,u=document.getElementById(e);u.innerHTML="",u.style.position="relative",u.style.height="90px",u.style.marginTop="0",this.defaults.pointerValues&&(u.style.marginTop="20px"),u.style.marginBottom="20px",u.style.marginRight="15px",u.style.marginLeft="15px",u.style.padding="40px 0";let h=document.createElement("div");h.className="magicSlider-range-container",u.appendChild(h);let f=document.createElement("hr");f.style.display="block",f.style.height="10px",f.style.border="none",f.style.margin="0",f.style.backgroundColor="#aaa",f.style.borderRadius="10px",f.style.touchAction="none",h.appendChild(f),f.addEventListener("click",function(e){if(!M){let t=e.clientX-f.getBoundingClientRect().left;if(t<a.offsetLeft){var l=i.getClosest(t,m);i.lkey=b[l[0]],S=l[1]-13,a.style.left=S+"px",o.style.left=S-5+"px",o.innerHTML=i.getMin(),T=S,$.style.left=S+13+"px",$.style.width=L-S+"px",a.style.zIndex=4,d.style.zIndex=2}else if(t>d.offsetLeft){var s=i.getClosest(t,m);i.rkey=b[s[0]],L=s[1]-13,d.style.left=L+"px",p.style.left=L-5+"px",p.innerHTML=i.getMax(),P=L,$.style.width=L-S+"px",a.style.zIndex=2,d.style.zIndex=4}return i.triggerChange(),i}});let x=f.offsetWidth,c=x/t,g=Math.round((x-0)/c)+1,m=Array.from({length:g},(e,t)=>0+t*c),b=Array.from({length:g},(e,t)=>this.defaults.min+t*this.defaults.interval);var _=b;if(this.defaults.interval!=this.defaults.labelInterval){n=x/s;let v=Math.round((x-0)/n)+1;_=Array.from({length:v},(e,t)=>this.defaults.min+t*this.defaults.labelInterval)}let $=document.createElement("span");$.style.height="10px",$.style.background=this.defaults.rangeColor,$.style.top="40px",$.style.display="block",$.style.position="absolute",$.style.borderRadius="10px",$.style.zIndex="1",$.style.touchAction="none";let k=0,C,I=0,z=0,S=0,L=0,w=!1,E=!1,M=!1,P=x-13,R=x-13,T=-13;for(var H in m){if((this.defaults.onlyEndLabels&&(0==H||H==m.length-1)||!this.defaults.onlyEndLabels)&&(this.defaults.interval!=this.defaults.labelInterval&&-1!=_.indexOf(b[H])||this.defaults.interval==this.defaults.labelInterval)){var A=document.createElement("span");A.className=e+"-magicSlider-val-label",A.style.top="60px",A.style.textAlign="center",A.style.height="26px",A.style.fontSize="15px",A.style.lineHeight="18px",A.style.padding="4px",A.style.position="absolute",A.style.boxSizing="border-box",A.style.touchAction="none";var N=document.createTextNode(b[H]);A.appendChild(N),A.style.left=m[H]+"px",u.appendChild(A)}if(b[H]==this.lkey){if($.style.left=m[H]+"px",k=m[H],(a=document.createElement("span")).className="magicSlider-cursor",a.style.width="26px",a.style.height="26px",a.style.borderRadius="26px",a.style.position="absolute",a.style.zIndex=4,a.style.top="32px",a.style.cursor="pointer",null==this.defaults.pointerImage?(a.style.boxShadow="#00f 0px 0px 5px",a.style.background="#00f"):(a.style.backgroundImage='url("'+this.defaults.pointerImage+'")',a.style.backgroundSize="contain",a.style.backgroundRepeat="no-repeat",a.style.backgroundPosition="center"),a.style.touchAction="none",T=S=m[H]-13,a.style.left=S+"px",(r=document.createElement("span")).className="magicSlider-cursor-mover",r.style.width="46px",r.style.height="46px",r.style.borderRadius="46px",r.style.position="absolute",r.style.backgroundColor="transparent",r.style.border="1px solid transparent",r.style.zIndex=3,r.style.top="-10px",r.style.cursor="pointer",r.style.left="-10px",this.defaults.pointerValues){o=document.createElement("span");var B=document.createTextNode(this.lkey);o.appendChild(B),o.className="magicSlider-pointer-val",o.style.textAlign="center",o.style.width="36px",o.style.height="18px",o.style.borderRadius="5px",o.style.lineHeight="12px",o.style.boxShadow="2px 2px 2px #ccc",o.style.padding="2px",o.style.fontSize="12px",o.style.top="0px",o.style.border="1px solid #ccc",o.style.position="absolute",o.style.touchAction="none",o.style.boxSizing="border-box",o.style.left=S-5+"px",u.appendChild(o)}a.appendChild(r),u.appendChild(a)}if(b[H]==this.rkey){if(k=m[H]-k,(d=document.createElement("span")).className="magicSlider-cursor",d.style.width="26px",d.style.height="26px",d.style.borderRadius="26px",d.style.position="absolute",d.style.zIndex=2,d.style.top="32px",d.style.cursor="pointer",null==this.defaults.pointerImage?(d.style.boxShadow="#00f 0px 0px 5px",d.style.background="#00f"):(d.style.backgroundImage='url("'+this.defaults.pointerImage+'")',d.style.backgroundSize="contain",d.style.backgroundRepeat="no-repeat",d.style.backgroundPosition="center"),d.style.touchAction="none",P=L=m[H]-13,d.style.left=L+"px",(y=document.createElement("span")).className="magicSlider-cursor-mover",y.style.width="46px",y.style.height="46px",y.style.borderRadius="46px",y.style.position="absolute",y.style.backgroundColor="transparent",y.style.border="1px solid transparent",y.style.zIndex=3,y.style.top="-10px",y.style.cursor="pointer",y.style.left="-10px",this.defaults.pointerValues){p=document.createElement("span");var V=document.createTextNode(this.rkey);p.appendChild(V),p.className="magicSlider-pointer-val",p.style.textAlign="center",p.style.width="36px",p.style.height="18px",p.style.borderRadius="5px",p.style.lineHeight="12px",p.style.boxShadow="2px 2px 2px #ccc",p.style.padding="2px",p.style.fontSize="12px",p.style.top="0px",p.style.border="1px solid #ccc",p.style.position="absolute",p.style.touchAction="none",p.style.boxSizing="border-box",p.style.left=L-5+"px",u.appendChild(p)}d.appendChild(y),u.appendChild(d)}}let X=0,O=document.getElementsByClassName(e+"-magicSlider-val-label");for(var H=0;H<O.length;H++){var D=parseFloat(O.item(H).getBoundingClientRect().width);D>X&&(X=D)}for(var H=0;H<O.length;H++)O.item(H).style.width=X+"px",O.item(H).style.left=parseFloat(O.item(H).style.left)-X/2+"px",0!=H&&H!=O.length-1&&X>n&&(O.item(H).style.display="none");return $.style.width=k+"px",u.appendChild($),$.addEventListener("click",function(e){if(!M){let t=e.clientX-f.getBoundingClientRect().left;if(t-a.offsetLeft<=d.offsetLeft-t){var l=i.getClosest(t,m);i.lkey=b[l[0]],S=l[1]-13,a.style.left=S+"px",o.style.left=S-5+"px",o.innerHTML=i.getMin(),T=S,$.style.left=S+13+"px",$.style.width=L-S+"px",a.style.zIndex=4,d.style.zIndex=2}else{var s=i.getClosest(t,m);i.rkey=b[s[0]],L=s[1]-13,d.style.left=L+"px",p.style.left=L-5+"px",p.innerHTML=i.getMax(),P=L,$.style.width=L-S+"px",a.style.zIndex=2,d.style.zIndex=4}return i.triggerChange(),i}}),document.addEventListener("pointerup",function(){M=!1,w?(w=!1,a.style.left=S+"px",o.style.left=S-5+"px",o.innerHTML=i.getMin(),T=S,$.style.left=S+13+"px",$.style.width=L-S+"px",i.triggerChange(),l instanceof Function&&l(!0)):E&&(E=!1,d.style.left=L+"px",p.style.left=L-5+"px",p.innerHTML=i.getMax(),P=L,$.style.width=L-S+"px",i.triggerChange(),l instanceof Function&&l(!0))}),document.addEventListener("pointermove",function(e){if(M=!0,e.preventDefault(),C=e.clientX,w){var t=C+I;t>P?t=P:t<-13&&(t=-13);var l=i.getClosest(t+13,m);return i.lkey=b[l[0]],S=l[1]-13,a.style.left=t+"px",o.style.left=t-5+"px",o.innerHTML=i.getMin(),$.style.left=t+13+"px",$.style.width=L-t+"px",T=t,a.style.zIndex=4,d.style.zIndex=2,i}if(E){var s=C+z;s>R?s=R:s<T&&(s=T);var n=i.getClosest(s+13,m);return i.rkey=b[n[0]],L=n[1]-13,d.style.left=s+"px",p.style.left=s-5+"px",p.innerHTML=i.getMax(),$.style.width=s-S+"px",P=s,a.style.zIndex=2,d.style.zIndex=4,i}}),a.addEventListener("pointerdown",function(e){w=!0,E=!1,I=a.offsetLeft-e.clientX}),d.addEventListener("pointerdown",function(e){E=!0,w=!1,z=d.offsetLeft-e.clientX}),this}}).init();return window.addEventListener("resize",e=>{void 0!==s&&s(!0),n.onReSize()}),n};window.magicSlider=e}();